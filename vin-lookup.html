from flask import Flask, request, redirect, render_template_string

app = Flask(__name__)

HTML = '''
<form method="POST">
  <label>Enter VIN:</label><br>
  <input name="vin" type="text" placeholder="e.g. 5TDYZ3DC0LS123456"><br>
  <button type="submit">View Sticker</button>
</form>
'''

@app.route('/', methods=['GET', 'POST'])
def vin_lookup():
    if request.method == 'POST':
        vin = request.form['vin'].strip()
        if len(vin) == 17:
            return redirect(f'https://www.toyota.checkeredflag.com/dealer-inspire-inventory/window-stickers/toyota?vin={vin}')
        else:
            return HTML + "<p style='color:red;'>Invalid VIN</p>"
    return HTML

if __name__ == '__main__':
    app.run(debug=True)
